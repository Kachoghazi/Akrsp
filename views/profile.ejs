<%  layout("/layouts/biloperets.ejs") %>

<!-- Include your CSS file -->

<div class="container">
    <header class="header">
        <h1>Edit Profile</h1>
    </header>
    <form class="profile-form" action="/profile" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="profile-pic">Profile Picture:</label>
            <input type="file" id="profile-pic" name="profile-pic" accept="image/*" onchange="previewImage(event)" required>
            <div id="image-preview" class="image-preview">
                <img id="preview" src="" alt="Profile Picture Preview" />
            </div>
        </div>
        <div class="form-group">
            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" placeholder="Enter your name" required>
        </div>
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" placeholder="Enter your username" required>
        </div>
        <div class="form-group">
            <label for="father-name">Father's Name:</label>
            <input type="text" id="father-name" name="fatherName" placeholder="Enter your father's name" required>
        </div>
        <div class="form-group">
            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="" disabled selected>Select your gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required>
        </div>
        <button type="submit" class="submit-btn">Save Changes</button>
    </form>
</div>

<script>
    function previewImage(event) {
        const file = event.target.files[0];
        const preview = document.getElementById('preview');
        const imagePreviewContainer = document.getElementById('image-preview');

        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                preview.src = e.target.result;
                imagePreviewContainer.style.display = 'block'; // Show the image preview
            }
            reader.readAsDataURL(file);
        } else {
            preview.src = '';
            imagePreviewContainer.style.display = 'none'; // Hide if no image
        }
    }
</script>
