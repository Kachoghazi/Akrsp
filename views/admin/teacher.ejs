<% layout("/layouts/biloperets.ejs") %>
<link rel="stylesheet" href="/admin/admin1.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMG1G/S0jZ5z5z/9eM5PSSjD10iAnjD8/FAm2D" crossorigin="anonymous">


<body>
    <div class="container">
        <h1>Teachers List</h1>
        
        <div class="export-import" style="margin-bottom: 20px;">
            <form action="/teachers/export/csv" method="POST" style="display:inline;">
                <button type="submit" class="export-button" title="Export as CSV">
                    <img src="/icons/icons8-csv-96.png" alt="Export CSV" class="icon">
                </button>
            </form>
            <form action="/export/excel" method="POST" style="display:inline;">
                <button type="submit" class="export-button" title="Export as Excel">
                    <img src="/icons/icons8-excel-144.png" alt="Export Excel" class="icon">
                </button>
            </form>
            <form action="/export/pdf" method="POST" style="display:inline;">
                <button type="submit" class="export-button" title="Export as PDF">
                    <img src="/icons/icons8-pdf-96.png" alt="Export PDF" class="icon">
                </button>
            </form>
            <form action="/add-teacher" method="POST" style="display:inline;">
                <button type="submit"class="add-student-button" title="Export as PDF">
                Add teacher
                </button>
            
            </form>
           

        </div>

        <table>
            <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Mobile No.</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% teachers.forEach(teacher => { %>
                    <tr>
                        <td><%= teacher.firstName %></td>
                        <td><%= teacher.lastName %></td>
                        <td><%= teacher.user.email %></td> 
                        <td><%= teacher.mobileNo %></td>
                        <td>
                            <div class="action-icons">
                              <a href="/edit-teacher/<%= teacher._id %>" class="action-icon" title="Edit Teacher">
                                <img src="/icons/icons8-edit-150.svg" class="action-icon-img" alt="Edit">
                              </a>
                              <form action="/delete-teacher/<%= teacher._id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this teacher?');" style="margin:0;">
                                <button type="submit" style="background:none;border:none;padding:0;">
                                  <img src="/icons/icons8-delete-80.png" class="action-icon-img" alt="Delete">
                                </button>
                              </form>
                            </div>
                          </td>
                          
                        
                        
                    </tr>
                <% }) %>
            </tbody>
        </table>
        <a href="/add-teacher">Add Another Teacher</a>
    </div>
</body>
</html>
